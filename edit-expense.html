


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Expenses</title>
    <link rel="stylesheet" href="editexpense.css">
</head>
<body>
    <header>
        <div class="header-content">
            <h1><img src="assets/images/Logo.png" alt="Logo" class="logo"></h1>
            <nav>
                <a href="index.html" class="nav-button">Home</a>
                <a href="dash.html" class="nav-button">Dashboard</a>
            </nav>
        </div>
    </header>


<h2>Edit Expense</h2>
    </header>
    <section>
        <form action="/edit_expense" method="POST">
            <label for="id">Expense ID:</label>
            <input type="text" id="id" name="id" required>

            <label for="date">Date:</label>
            <input type="date" id="date" name="date" required>

            <label for="amount">Amount:</label>
            <input type="number" id="amount" name="amount" required>

            <label for="category">Category:</label>
            <input type="text" id="category" name="category" required>

            <label for="description">Description:</label>
            <textarea id="description" name="description" required></textarea>

            <button type="submit">Edit Expense</button>
        </form>
    </section>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const expenseId = urlParams.get('id'); // Get the expense ID from the URL

        document.getElementById('edit-expense-form').addEventListener('submit', async (event) => {
            event.preventDefault();
            const title = document.getElementById('title').value;
            const amount = document.getElementById('amount').value;

            const response = await fetch(`/expenses/${expenseId}`, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json',
                    'auth-token': localStorage.getItem('token') // JWT token stored in local storage
                },
                body: JSON.stringify({ title, amount })
            });

            const result = await response.text();
            alert(result);
            window.location.href = 'dashboard.html'; // Redirect back to dashboard
        });
    </script>


<footer class="footer-section">
    <div class="footer-content">
        <p>   Billionaire Mindset 2024 | All rights reserved.</p>
        <div class="social-media-icons">
            <a href="https://www.instagram.com/_marsiana._?utm_source=ig_web_button_share_sheet&ig>
                <i class="fab fa-instagram"></i>
            </a>
            <a href="https://www.facebook.com" target="_blank" class="social-icon">
                <i class="fab fa-facebook"></i>
            </a>
            <a href="https://www.youtube.com" target="_blank" class="social-icon">
                <i class="fab fa-youtube"></i>
            </a>
            <a href="https://www.snapchat.com" target="_blank" class="social-icon">
                <i class="fab fa-snapchat-ghost"></i>
            </a>
            <a href="https://www.tiktok.com" target="_blank" class="social-icon">
                <i class="fab fa-tiktok"></i>
            </a>
        </div>
    </div>
</footer>



</body>
</html>
